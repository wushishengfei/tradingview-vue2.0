{"remainingRequest":"E:\\TvTest\\vue-tradingview\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TvTest\\vue-tradingview\\src\\components\\TradingViewComponent.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\TvTest\\vue-tradingview\\src\\components\\TradingViewComponent.vue","mtime":1592295099878},{"path":"E:\\TvTest\\vue-tradingview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\TvTest\\vue-tradingview\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\TvTest\\vue-tradingview\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\TvTest\\vue-tradingview\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\TvTest\\vue-tradingview\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCg0KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJw0KaW1wb3J0IHsgV2F0Y2gsIENvbXBvbmVudCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InDQppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOw0KZGVjbGFyZSBjb25zdCBUcmFkaW5nVmlldzphbnkNCmRlY2xhcmUgY29uc3QgJDphbnkNCmNvbnN0IExhc3RQcmljZSA9IDEyMzQuMjM2NQ0KDQpAQ29tcG9uZW50DQpleHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFkaW5nVmlld0NvbXBvbmVudCBleHRlbmRzIFZ1ZSB7DQogICAgZmVlZDphbnkgPSBudWxsDQogICAgY2hhcnQ6YW55ID0gbnVsbA0KICAgIGN1cnJlbmN5MTpzdHJpbmcgPSAnVVNEJw0KICAgIGN1cnJlbmN5MjpzdHJpbmcgPSAnQlRDJw0KICAgIGJhcnM6YW55ID0gWw0KICAgICAgICB7DQogICAgICAgICAgICB0aW1lOjE1MDgzMTM2MDAwMDAsDQogICAgICAgICAgICBjbG9zZTo0Mi4xLA0KICAgICAgICAgICAgb3Blbjo0MS4wLA0KICAgICAgICAgICAgaGlnaDo0My4wLA0KICAgICAgICAgICAgbG93OjQwLjQsDQogICAgICAgICAgICB2b2x1bWU6MTIwMDANCiAgICAgICAgfSwgew0KICAgICAgICAgICAgdGltZToxNTA4MzE3MjAwMDAwLA0KICAgICAgICAgICAgY2xvc2U6NDMuNCwNCiAgICAgICAgICAgIG9wZW46NDIuOSwNCiAgICAgICAgICAgIGhpZ2g6NDQuMSwNCiAgICAgICAgICAgIGxvdzo0Mi4xLA0KICAgICAgICAgICAgdm9sdW1lOjE4NTAwDQogICAgICAgIH0sIHsNCiAgICAgICAgICAgIHRpbWU6MTUwODMyMDgwMDAwMCwNCiAgICAgICAgICAgIGNsb3NlOjQ0LjMsDQogICAgICAgICAgICBvcGVuOjQzLjcsDQogICAgICAgICAgICBoaWdoOjQ0LjgsDQogICAgICAgICAgICBsb3c6NDIuOCwNCiAgICAgICAgICAgIHZvbHVtZToyNDAwMA0KICAgICAgICB9LCB7DQogICAgICAgICAgICB0aW1lOjE1MDgzMjQ0MDAwMDAsDQogICAgICAgICAgICBjbG9zZTo0Mi44LA0KICAgICAgICAgICAgb3Blbjo0NC41LA0KICAgICAgICAgICAgaGlnaDo0NC41LA0KICAgICAgICAgICAgbG93OjQyLjMsDQogICAgICAgICAgICB2b2x1bWU6NDUwMDANCiAgICAgICAgfQ0KICAgIF0NCg0KICAgIGNvbnN0cnVjdG9yKCkgew0KICAgICAgICBzdXBlcigpDQogICAgICAgIHRoaXMuY3JlYXRlRGF0YSgpDQogICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVDaGFydERhdGEnLCB0aGlzLmJhcnMpDQogICAgfQ0KDQogICAgY3JlYXRlRGF0YSgpIHsNCiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICAgICAgbGV0IGRhdGEgPSBzdG9yZS5nZXR0ZXJzLmNoYXJ0RGF0YQ0KICAgICAgICAgICAgZGF0YS5wdXNoKHsNCiAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwNCiAgICAgICAgICAgICAgICBjbG9zZTogNDAgKyBNYXRoLnJhbmRvbSgpICogNSwNCiAgICAgICAgICAgICAgICBvcGVuOiA0MCArIE1hdGgucmFuZG9tKCkgKiA1LA0KICAgICAgICAgICAgICAgIGhpZ2g6IDQwICsgTWF0aC5yYW5kb20oKSAqIDUsDQogICAgICAgICAgICAgICAgbG93OiA0MCArIE1hdGgucmFuZG9tKCkgKiA1LA0KICAgICAgICAgICAgICAgIHZvbHVtZTogMTAwMDAwICogTWF0aC5yYW5kb20oKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1cGRhdGVDaGFydERhdGEnLCBkYXRhKQ0KICAgICAgICAgICAgdGhpcy5jaGFuZ2VQYWlyKCkNCiAgICAgICAgfSwgMTAwMCkNCiAgICB9DQoNCiAgICBjaGFuZ2VQYWlyKCkgew0KICAgICAgICBpZih0aGlzLmNoYXJ0ICYmIHRoaXMuZmVlZCl7DQogICAgICAgICAgICB0aGlzLmZlZWQuX2ZpcmVFdmVudCgncGFpcl9jaGFuZ2UnKTsNCiAgICAgICAgICAgIHRoaXMuY2hhcnQuYWN0aXZlQ2hhcnQoKS5yZXNldERhdGEoKTsNCiAgICAgICAgICAgIHRoaXMuY2hhcnQuYWN0aXZlQ2hhcnQoKS5zZXRTeW1ib2wodGhpcy5jdXJyZW5jeTErIjoiK3RoaXMuY3VycmVuY3kyLCAoKSA9PiB7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuZmVlZCA9IHRoaXMuY3JlYXRlRmVlZCgpOw0KDQogICAgICAgIFRyYWRpbmdWaWV3Lm9ucmVhZHkoKGNvbmZpZ3VyYXRpb25EYXRhOmFueSkgPT4gew0KICAgICAgICAgICAgdGhpcy5jaGFydCA9IG5ldyBUcmFkaW5nVmlldy53aWRnZXQoew0KICAgICAgICAgICAgICAgIGZ1bGxzY3JlZW46IGZhbHNlLA0KICAgICAgICAgICAgICAgIGF1dG9zaXplOiB0cnVlLA0KICAgICAgICAgICAgICAgIHN5bWJvbDp0aGlzLmN1cnJlbmN5MSArICI6IisgdGhpcy5jdXJyZW5jeTIsDQogICAgICAgICAgICAgICAgY29udGFpbmVyX2lkOiAiY2hhcnRfY29udGFpbmVyIiwNCiAgICAgICAgICAgICAgICBkYXRhZmVlZDogdGhpcy5mZWVkLA0KICAgICAgICAgICAgICAgIGxpYnJhcnlfcGF0aDogIi9jdXN0b21fc2NyaXB0cy9jaGFydF9tYWluLyIsDQogICAgICAgICAgICAgICAgbG9jYWxlOiAiZW4iLA0KICAgICAgICAgICAgICAgIHRpbWV6b25lOiAnRXRjL1VUQycsIC8vdG9kbzogdXN0YXdpYW5pZSB0aW1lem9uZSdhIHBvIHN0cmVmaWUgdXNlcmENCiAgICAgICAgICAgICAgICBjaGFydHNfc3RvcmFnZV9hcGlfdmVyc2lvbjogIjEuMSIsDQogICAgICAgICAgICAgICAgY2xpZW50X2lkOiAndHJhZGluZ3ZpZXcuY29tJywNCiAgICAgICAgICAgICAgICB1c2VyX2lkOiAncHVibGljX3VzZXJfaWQnLA0KICAgICAgICAgICAgICAgIGRlYnVnOiB0cnVlLA0KICAgICAgICAgICAgICAgIC8vIGxvYWRpbmdfc2NyZWVuOnsgYmFja2dyb3VuZENvbG9yOiAiIzAwZmYwMCIsZm9yZWdyb3VuZENvbG9yOiAiIzAwMDAwMCIsIH0sIC8vdG9kbzpkbyBpdA0KICAgICAgICAgICAgICAgIGludGVydmFsOiAnNjAnLA0KICAgICAgICAgICAgICAgIC8vIHRpbWVmcmFtZTonJywvL3RvZG86IG5hIGtvbmN1DQogICAgICAgICAgICAgICAgdG9vbGJhcl9iZzogIiMyMDMzNGQiLA0KICAgICAgICAgICAgICAgIC8vIHNhdmVkX2RhdGE6IHRoaXMuc2F2ZWREYXRhLA0KICAgICAgICAgICAgICAgIGFsbG93X3N5bWJvbF9jaGFuZ2U6IHRydWUsDQogICAgICAgICAgICAgICAgdGltZV9mcmFtZXM6IFsNCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICIxeSIsIHJlc29sdXRpb246ICIxVyJ9LA0KICAgICAgICAgICAgICAgICAgICB7dGV4dDogIjZtIiwgcmVzb2x1dGlvbjogIjNEIn0sDQogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiM20iLCByZXNvbHV0aW9uOiAiMUQifSwNCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICIxbSIsIHJlc29sdXRpb246ICIxRCJ9LA0KICAgICAgICAgICAgICAgICAgICB7dGV4dDogIjF3IiwgcmVzb2x1dGlvbjogIjMwIn0sDQogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiM2QiLCByZXNvbHV0aW9uOiAiMzAifSwNCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICIxZCIsIHJlc29sdXRpb246ICIzMCJ9LA0KICAgICAgICAgICAgICAgICAgICB7dGV4dDogIjZoIiwgcmVzb2x1dGlvbjogIjE1In0sDQogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiMWgiLCByZXNvbHV0aW9uOiAiMSJ9XSwNCiAgICAgICAgICAgICAgICBkcmF3aW5nc19hY2Nlc3M6IHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JsYWNrJywNCiAgICAgICAgICAgICAgICAgICAgLy8gdG9vbHM6IFt7bmFtZTogIlJlZ3Jlc3Npb24gVHJlbmQifV0vL3RvZG86IG1vamUNCiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IFt7bmFtZTogIlRyZW5kIExpbmUiLCBncmF5ZWQ6IHRydWV9LCB7bmFtZTogIlRyZW5kIEFuZ2xlIiwgZ3JheWVkOiB0cnVlfV0gLy90b2RvOiBiYg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZGlzYWJsZWRfZmVhdHVyZXM6IFsNCiAgICAgICAgICAgICAgICAgICAgImhlYWRlcl9zeW1ib2xfc2VhcmNoIiwNCiAgICAgICAgICAgICAgICAgICAgImhlYWRlcl9pbnRlcnZhbF9kaWFsb2dfYnV0dG9uIiwNCiAgICAgICAgICAgICAgICAgICAgInNob3dfaW50ZXJ2YWxfZGlhbG9nX29uX2tleV9wcmVzcyIsDQogICAgICAgICAgICAgICAgICAgICJzeW1ib2xfc2VhcmNoX2hvdF9rZXkiLA0KICAgICAgICAgICAgICAgICAgICAic3R1ZHlfZGlhbG9nX3NlYXJjaF9jb250cm9sIiwNCiAgICAgICAgICAgICAgICAgICAgImRpc3BsYXlfbWFya2V0X3N0YXR1cyIsDQogICAgICAgICAgICAgICAgICAgICJoZWFkZXJfY29tcGFyZSIsDQogICAgICAgICAgICAgICAgICAgICJlZGl0X2J1dHRvbnNfaW5fbGVnZW5kIiwNCiAgICAgICAgICAgICAgICAgICAgInN5bWJvbF9pbmZvIiwNCiAgICAgICAgICAgICAgICAgICAgImJvcmRlcl9hcm91bmRfdGhlX2NoYXJ0IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5fc2VyaWVzX3NjYWxlX21lbnUiLA0KICAgICAgICAgICAgICAgICAgICAic3Rhcl9zb21lX2ludGVydmFsc19ieV9kZWZhdWx0IiwNCiAgICAgICAgICAgICAgICAgICAgImRhdGFzb3VyY2VfY29weXBhc3RlIiwNCiAgICAgICAgICAgICAgICAgICAgInJpZ2h0X2Jhcl9zdGF5c19vbl9zY3JvbGwiLA0KICAgICAgICAgICAgICAgICAgICAiY29udGV4dF9tZW51cyIsDQogICAgICAgICAgICAgICAgICAgICJnb190b19kYXRlIiwNCiAgICAgICAgICAgICAgICAgICAgImNvbXBhcmVfc3ltYm9sIiwNCiAgICAgICAgICAgICAgICAgICAgImJvcmRlcl9hcm91bmRfdGhlX2NoYXJ0IiwNCiAgICAgICAgICAgICAgICAgICAgInRpbWV6b25lX21lbnUiLA0KICAgICAgICAgICAgICAgICAgICAiaGVhZGVyX3Jlc29sdXRpb25zIiwvL3RvZG86IHByemV0ZXN0b3dhYw0KICAgICAgICAgICAgICAgICAgICAiY29udHJvbF9iYXIiLC8vdG9kbzogcHJ6ZXRlc3Rvd2FjDQogICAgICAgICAgICAgICAgICAgICJlZGl0X2J1dHRvbnNfaW5fbGVnZW5kIiwvL3RvZG86IHByemV0ZXN0b3dhYw0KICAgICAgICAgICAgICAgICAgICAicmVtb3ZlX2xpYnJhcnlfY29udGFpbmVyX2JvcmRlciIsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBlbmFibGVkX2ZlYXR1cmVzOiBbDQogICAgICAgICAgICAgICAgICAgICJkb250X3Nob3dfYm9vbGVhbl9zdHVkeV9hcmd1bWVudHMiLA0KICAgICAgICAgICAgICAgICAgICAidXNlX2xvY2Fsc3RvcmFnZV9mb3Jfc2V0dGluZ3MiLA0KICAgICAgICAgICAgICAgICAgICAicmVtb3ZlX2xpYnJhcnlfY29udGFpbmVyX2JvcmRlciIsDQogICAgICAgICAgICAgICAgICAgICJzYXZlX2NoYXJ0X3Byb3BlcnRpZXNfdG9fbG9jYWxfc3RvcmFnZSIsDQogICAgICAgICAgICAgICAgICAgICJzaWRlX3Rvb2xiYXJfaW5fZnVsbHNjcmVlbl9tb2RlIiwNCiAgICAgICAgICAgICAgICAgICAgImhpZGVfbGFzdF9uYV9zdHVkeV9vdXRwdXQiLA0KICAgICAgICAgICAgICAgICAgICAiY29uc3RyYWludF9kaWFsb2dzX21vdmVtZW50IiwvL3RvZG86IG5pZSBkbyBrb8WEY2EgamVzdGVtIHBld2llbg0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgc3R1ZGllc19vdmVycmlkZXM6IHsNCiAgICAgICAgICAgICAgICAgICAgInZvbHVtZS52b2x1bWUuY29sb3IuMCI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgInZvbHVtZS52b2x1bWUuY29sb3IuMSI6ICIjM2ZjZmI0IiwNCiAgICAgICAgICAgICAgICAgICAgInZvbHVtZS52b2x1bWUudHJhbnNwYXJlbmN5IjogNzUsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHsNCiAgICAgICAgICAgICAgICAgICAgInN5bWJvbFdhdGVybWFya1Byb3BlcnRpZXMuY29sb3IiOiAicmdiYSgwLDAsMCwgMCkiLA0KICAgICAgICAgICAgICAgICAgICAicGFuZVByb3BlcnRpZXMuYmFja2dyb3VuZCI6ICIjMjAzMzRkIiwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLnZlcnRHcmlkUHJvcGVydGllcy5jb2xvciI6ICIjMzQ0NTY4IiwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLmhvcnpHcmlkUHJvcGVydGllcy5jb2xvciI6ICIjMzQ0NTY4IiwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLmNyb3NzSGFpclByb3BlcnRpZXMuY29sb3IiOiAiIzU4NjM3YSIsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5jcm9zc0hhaXJQcm9wZXJ0aWVzLnN0eWxlIjogMiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLnN0eWxlIjogOSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLnNob3dDb3VudGRvd24iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgInNjYWxlc1Byb3BlcnRpZXMuc2hvd1Nlcmllc0xhc3RWYWx1ZSI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy52aXNpYmxlIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5zaG93UHJpY2VMaW5lIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5wcmljZUxpbmVXaWR0aCI6IDEsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5sb2NrU2NhbGUiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLm1pblRpY2siOiAiZGVmYXVsdCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5leHRlbmRlZEhvdXJzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJ2b2x1bWVQYW5lU2l6ZSI6ICJ0aW55IiwNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yRm9udHNMaXN0OiBbIkxhdG8iLCAiQXJpYWwiLCAiVmVyZGFuYSIsICJDb3VyaWVyIE5ldyIsICJUaW1lcyBOZXcgUm9tYW4iXSwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLnRvcE1hcmdpbiI6IDUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5ib3R0b21NYXJnaW4iOiA1LA0KICAgICAgICAgICAgICAgICAgICAicGFuZVByb3BlcnRpZXMubGVmdEF4aXNQcm9wZXJ0aWVzLmF1dG9TY2FsZSI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWZ0QXhpc1Byb3BlcnRpZXMuYXV0b1NjYWxlRGlzYWJsZWQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLmxlZnRBeGlzUHJvcGVydGllcy5wZXJjZW50YWdlIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWZ0QXhpc1Byb3BlcnRpZXMucGVyY2VudGFnZURpc2FibGVkIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWZ0QXhpc1Byb3BlcnRpZXMubG9nIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWZ0QXhpc1Byb3BlcnRpZXMubG9nRGlzYWJsZWQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgInBhbmVQcm9wZXJ0aWVzLmxlZnRBeGlzUHJvcGVydGllcy5hbGlnbkxhYmVscyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIC8vICJwYW5lUHJvcGVydGllcy5sZWdlbmRQcm9wZXJ0aWVzLnNob3dTdHVkeUFyZ3VtZW50cyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWdlbmRQcm9wZXJ0aWVzLnNob3dTdHVkeVRpdGxlcyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWdlbmRQcm9wZXJ0aWVzLnNob3dTdHVkeVZhbHVlcyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWdlbmRQcm9wZXJ0aWVzLnNob3dTZXJpZXNUaXRsZSI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJwYW5lUHJvcGVydGllcy5sZWdlbmRQcm9wZXJ0aWVzLnNob3dTZXJpZXNPSExDIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgInNjYWxlc1Byb3BlcnRpZXMuc2hvd0xlZnRTY2FsZSI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAic2NhbGVzUHJvcGVydGllcy5zaG93UmlnaHRTY2FsZSI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJzY2FsZXNQcm9wZXJ0aWVzLmJhY2tncm91bmRDb2xvciI6ICIjMjAzMzRkIiwNCiAgICAgICAgICAgICAgICAgICAgInNjYWxlc1Byb3BlcnRpZXMubGluZUNvbG9yIjogIiM0NjU4N2IiLA0KICAgICAgICAgICAgICAgICAgICAic2NhbGVzUHJvcGVydGllcy50ZXh0Q29sb3IiOiAiIzhmOThhZCIsDQogICAgICAgICAgICAgICAgICAgICJzY2FsZXNQcm9wZXJ0aWVzLnNjYWxlU2VyaWVzT25seSI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMucHJpY2VBeGlzUHJvcGVydGllcy5hdXRvU2NhbGUiOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMucHJpY2VBeGlzUHJvcGVydGllcy5hdXRvU2NhbGVEaXNhYmxlZCI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMucHJpY2VBeGlzUHJvcGVydGllcy5wZXJjZW50YWdlIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5wcmljZUF4aXNQcm9wZXJ0aWVzLnBlcmNlbnRhZ2VEaXNhYmxlZCI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMucHJpY2VBeGlzUHJvcGVydGllcy5sb2ciOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLnByaWNlQXhpc1Byb3BlcnRpZXMubG9nRGlzYWJsZWQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLnVwQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5jYW5kbGVTdHlsZS5kb3duQ29sb3IiOiAiI2ZlNDc2MSIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5jYW5kbGVTdHlsZS5kcmF3V2ljayI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5jYW5kbGVTdHlsZS5kcmF3Qm9yZGVyIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLmJvcmRlckNvbG9yIjogIiMzZmNmYjQiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuY2FuZGxlU3R5bGUuYm9yZGVyVXBDb2xvciI6ICIjM2ZjZmI0IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLmJvcmRlckRvd25Db2xvciI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLndpY2tDb2xvciI6ICIjNzM3Mzc1IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLndpY2tVcENvbG9yIjogIiMzZmNmYjQiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuY2FuZGxlU3R5bGUud2lja0Rvd25Db2xvciI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmNhbmRsZVN0eWxlLmJhckNvbG9yc09uUHJldkNsb3NlIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5ob2xsb3dDYW5kbGVTdHlsZS51cENvbG9yIjogIiMzZmNmYjQiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuaG9sbG93Q2FuZGxlU3R5bGUuZG93bkNvbG9yIjogIiNmZTQ3NjEiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuaG9sbG93Q2FuZGxlU3R5bGUuZHJhd1dpY2siOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuaG9sbG93Q2FuZGxlU3R5bGUuZHJhd0JvcmRlciI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5ob2xsb3dDYW5kbGVTdHlsZS5ib3JkZXJDb2xvciI6ICIjM2ZjZmI0IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhvbGxvd0NhbmRsZVN0eWxlLmJvcmRlclVwQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5ob2xsb3dDYW5kbGVTdHlsZS5ib3JkZXJEb3duQ29sb3IiOiAiI2ZlNDc2MSIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5ob2xsb3dDYW5kbGVTdHlsZS53aWNrQ29sb3IiOiAiIzczNzM3NSIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5ob2xsb3dDYW5kbGVTdHlsZS53aWNrVXBDb2xvciI6ICIjM2ZjZmI0IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhvbGxvd0NhbmRsZVN0eWxlLndpY2tEb3duQ29sb3IiOiAiI2ZlNDc2MSIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5oYVN0eWxlLnVwQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5oYVN0eWxlLmRvd25Db2xvciI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhhU3R5bGUuZHJhd1dpY2siOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuaGFTdHlsZS5kcmF3Qm9yZGVyIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhhU3R5bGUuYm9yZGVyQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5oYVN0eWxlLmJvcmRlclVwQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5oYVN0eWxlLmJvcmRlckRvd25Db2xvciI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhhU3R5bGUud2lja0NvbG9yIjogIiM3MzczNzUiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuaGFTdHlsZS53aWNrVXBDb2xvciI6ICIjM2ZjZmI0IiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhhU3R5bGUud2lja0Rvd25Db2xvciI6ICIjZmU0NzYxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmhhU3R5bGUuYmFyQ29sb3JzT25QcmV2Q2xvc2UiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmJhclN0eWxlLnVwQ29sb3IiOiAiIzNmY2ZiNCIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5iYXJTdHlsZS5kb3duQ29sb3IiOiAiI2ZlNDc2MSIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5iYXJTdHlsZS5iYXJDb2xvcnNPblByZXZDbG9zZSI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuYmFyU3R5bGUuZG9udERyYXdPcGVuIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5saW5lU3R5bGUuY29sb3IiOiAiIzBjYmVmMyIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5saW5lU3R5bGUubGluZXN0eWxlIjogMCwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmxpbmVTdHlsZS5saW5ld2lkdGgiOiAxLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMubGluZVN0eWxlLnByaWNlU291cmNlIjogImNsb3NlIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmFyZWFTdHlsZS5jb2xvcjEiOiAiIzBjYmVmMyIsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5hcmVhU3R5bGUuY29sb3IyIjogIiMwMDk4YzQiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuYXJlYVN0eWxlLmxpbmVjb2xvciI6ICIjMGNiZWYzIiwNCiAgICAgICAgICAgICAgICAgICAgIm1haW5TZXJpZXNQcm9wZXJ0aWVzLmFyZWFTdHlsZS5saW5lc3R5bGUiOiAwLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuYXJlYVN0eWxlLmxpbmV3aWR0aCI6IDEsDQogICAgICAgICAgICAgICAgICAgICJtYWluU2VyaWVzUHJvcGVydGllcy5hcmVhU3R5bGUucHJpY2VTb3VyY2UiOiAiY2xvc2UiLA0KICAgICAgICAgICAgICAgICAgICAibWFpblNlcmllc1Byb3BlcnRpZXMuYXJlYVN0eWxlLnRyYW5zcGFyZW5jeSI6IDgwDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBjdXN0b21fY3NzX3VybDogJ2NoYXJ0LmNzcycNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBjcmVhdGVGZWVkKCkgew0KICAgICAgICBsZXQgRGF0YWZlZWQ6YW55ID0ge307DQoNCiAgICAgICAgRGF0YWZlZWQuRGF0YVB1bHNlVXBkYXRlciA9IGZ1bmN0aW9uKGRhdGFmZWVkOmFueSwgdXBkYXRlRnJlcXVlbmN5OmFueSkgew0KICAgICAgICAgICAgdGhpcy5fZGF0YWZlZWQgPSBkYXRhZmVlZDsNCiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0ge307DQoNCiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RzUGVuZGluZyA9IDA7DQogICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7DQoNCiAgICAgICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhhdC5fcmVxdWVzdHNQZW5kaW5nID4gMCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgZm9yICh2YXIgbGlzdGVuZXJHVUlEIGluIHRoYXQuX3N1YnNjcmliZXJzKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25SZWNvcmQgPSB0aGF0Ll9zdWJzY3JpYmVyc1tsaXN0ZW5lckdVSURdOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHN1YnNjcmlwdGlvblJlY29yZC5yZXNvbHV0aW9uOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlc1JhbmdlUmlnaHQgPSBwYXJzZUludCgoKG5ldyBEYXRlKCkudmFsdWVPZigpKSAvIDEwMDApLnRvRml4ZWQoKSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy8JQkVXQVJFOiBwbGVhc2Ugbm90ZSB3ZSByZWFsbHkgbmVlZCAyIGJhcnMsIG5vdCB0aGUgb25seSBsYXN0IG9uZQ0KICAgICAgICAgICAgICAgICAgICAvLwlzZWUgdGhlIGV4cGxhbmF0aW9uIGJlbG93LiBgMTBgIGlzIHRoZSBgbGFyZ2UgZW5vdWdoYCB2YWx1ZSB0byB3b3JrIGFyb3VuZCBob2xpZGF5cw0KICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXNSYW5nZUxlZnQgPSBkYXRlc1JhbmdlUmlnaHQgLSB0aGF0LnBlcmlvZExlbmd0aFNlY29uZHMocmVzb2x1dGlvbiwgMTApOw0KDQogICAgICAgICAgICAgICAgICAgIHRoYXQuX3JlcXVlc3RzUGVuZGluZysrOw0KDQogICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbihfc3Vic2NyaXB0aW9uUmVjb3JkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX2RhdGFmZWVkLmdldEJhcnMoX3N1YnNjcmlwdGlvblJlY29yZC5zeW1ib2xJbmZvLCByZXNvbHV0aW9uLCBkYXRlc1JhbmdlTGVmdCwgZGF0ZXNSYW5nZVJpZ2h0LCBmdW5jdGlvbihiYXJzOmFueSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9yZXF1ZXN0c1BlbmRpbmctLTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwltZWFucyB0aGUgc3Vic2NyaXB0aW9uIHdhcyBjYW5jZWxsZWQgd2hpbGUgd2FpdGluZyBmb3IgZGF0YQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuX3N1YnNjcmliZXJzLmhhc093blByb3BlcnR5KGxpc3RlbmVyR1VJRCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYXJzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RCYXIgPSBiYXJzW2JhcnMubGVuZ3RoIC0gMV07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oX3N1YnNjcmlwdGlvblJlY29yZC5sYXN0QmFyVGltZSkgJiYgbGFzdEJhci50aW1lIDwgX3N1YnNjcmlwdGlvblJlY29yZC5sYXN0QmFyVGltZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gX3N1YnNjcmlwdGlvblJlY29yZC5saXN0ZW5lcnM7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8JQkVXQVJFOiB0aGlzIG9uZSBpc24ndCB3b3JraW5nIHdoZW4gZmlyc3QgdXBkYXRlIGNvbWVzIGFuZCB0aGlzIHVwZGF0ZSBtYWtlcyBhIG5ldyBiYXIuIEluIHRoaXMgY2FzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwlfc3Vic2NyaXB0aW9uUmVjb3JkLmxhc3RCYXJUaW1lID0gTmFODQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc05ld0JhciA9ICFpc05hTihfc3Vic2NyaXB0aW9uUmVjb3JkLmxhc3RCYXJUaW1lKSAmJiBsYXN0QmFyLnRpbWUgPiBfc3Vic2NyaXB0aW9uUmVjb3JkLmxhc3RCYXJUaW1lOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vCVB1bHNlIHVwZGF0aW5nIG1heSBtaXNzIHNvbWUgdHJhZGVzIGRhdGEgKGllLCBpZiBwdWxzZSBwZXJpb2QgPSAxMCBzZWNvZHMgYW5kIG5ldyBiYXIgaXMgc3RhcnRlZCA1IHNlY29uZHMgbGF0ZXIgYWZ0ZXIgdGhlIGxhc3QgdXBkYXRlLCB0aGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8Jb2xkIGJhcidzIGxhc3QgNSBzZWNvbmRzIHRyYWRlcyB3aWxsIGJlIGxvc3QpLiBUaHVzLCBhdCBmaXN0IHdlIHNob3VsZCBicm9hZGNhc3Qgb2xkIGJhciB1cGRhdGVzIHdoZW4gaXQncyByZWFkeS4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmV3QmFyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFycy5sZW5ndGggPCAyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgZW5vdWdoIGJhcnMgaW4gaGlzdG9yeSBmb3IgcHJvcGVyIHB1bHNlIHVwZGF0ZS4gTmVlZCBhdCBsZWFzdCAyLicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNCYXIgPSBiYXJzW2JhcnMubGVuZ3RoIC0gMl07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgKytpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcnNbaV0ocHJldmlvdXNCYXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N1YnNjcmlwdGlvblJlY29yZC5sYXN0QmFyVGltZSA9IGxhc3RCYXIudGltZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1YnNjcmliZXJzLmxlbmd0aDsgKytqKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyc1tqXShsYXN0QmFyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLwlvbiBlcnJvcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9yZXF1ZXN0c1BlbmRpbmctLTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSkoc3Vic2NyaXB0aW9uUmVjb3JkKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZUZyZXF1ZW5jeSAhPSAndW5kZWZpbmVkJyAmJiB1cGRhdGVGcmVxdWVuY3kgPiAwKSB7DQogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwodXBkYXRlLCB1cGRhdGVGcmVxdWVuY3kpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIERhdGFmZWVkLkRhdGFQdWxzZVVwZGF0ZXIucHJvdG90eXBlLnBlcmlvZExlbmd0aFNlY29uZHMgPSBmdW5jdGlvbihyZXNvbHV0aW9uOmFueSwgcmVxdWlyZWRQZXJpb2RzQ291bnQ6YW55KSB7DQogICAgICAgICAgICB2YXIgZGF5c0NvdW50ID0gMDsNCg0KICAgICAgICAgICAgaWYgKHJlc29sdXRpb24gPT09ICdEJykgew0KICAgICAgICAgICAgICAgIGRheXNDb3VudCA9IHJlcXVpcmVkUGVyaW9kc0NvdW50Ow0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNvbHV0aW9uID09PSAnTScpIHsNCiAgICAgICAgICAgICAgICBkYXlzQ291bnQgPSAzMSAqIHJlcXVpcmVkUGVyaW9kc0NvdW50Ow0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNvbHV0aW9uID09PSAnVycpIHsNCiAgICAgICAgICAgICAgICBkYXlzQ291bnQgPSA3ICogcmVxdWlyZWRQZXJpb2RzQ291bnQ7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRheXNDb3VudCA9IHJlcXVpcmVkUGVyaW9kc0NvdW50ICogcmVzb2x1dGlvbiAvICgyNCAqIDYwKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIGRheXNDb3VudCAqIDI0ICogNjAgKiA2MDsNCiAgICAgICAgfTsNCg0KICAgICAgICBEYXRhZmVlZC5EYXRhUHVsc2VVcGRhdGVyLnByb3RvdHlwZS5zdWJzY3JpYmVEYXRhTGlzdGVuZXIgPSBmdW5jdGlvbihzeW1ib2xJbmZvOmFueSwgcmVzb2x1dGlvbjphbnksIG5ld0RhdGFDYWxsYmFjazphbnksIGxpc3RlbmVyR1VJRDphbnkpIHsNCiAgICAgICAgICAgIHRoaXMuX2RhdGFmZWVkLl9sb2dNZXNzYWdlKCdTdWJzY3JpYmluZyAnICsgbGlzdGVuZXJHVUlEKTsNCg0KICAgICAgICAgICAgaWYgKCF0aGlzLl9zdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShsaXN0ZW5lckdVSUQpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnNbbGlzdGVuZXJHVUlEXSA9IHsNCiAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5mbzogc3ltYm9sSW5mbywNCiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiwNCiAgICAgICAgICAgICAgICAgICAgbGFzdEJhclRpbWU6IE5hTiwNCiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBbXQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZXJzW2xpc3RlbmVyR1VJRF0ubGlzdGVuZXJzLnB1c2gobmV3RGF0YUNhbGxiYWNrKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBEYXRhZmVlZC5EYXRhUHVsc2VVcGRhdGVyLnByb3RvdHlwZS51bnN1YnNjcmliZURhdGFMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyR1VJRDphbnkpIHsNCiAgICAgICAgICAgIHRoaXMuX2RhdGFmZWVkLl9sb2dNZXNzYWdlKCdVbnN1YnNjcmliaW5nICcgKyBsaXN0ZW5lckdVSUQpOw0KICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N1YnNjcmliZXJzW2xpc3RlbmVyR1VJRF07DQogICAgICAgIH07DQoNCiAgICAgICAgRGF0YWZlZWQuQ29udGFpbmVyID0gZnVuY3Rpb24odXBkYXRlRnJlcXVlbmN5OmFueSl7DQogICAgICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uID0gew0KICAgICAgICAgICAgICAgIHN1cHBvcnRzX3NlYXJjaDogZmFsc2UsDQogICAgICAgICAgICAgICAgc3VwcG9ydHNfZ3JvdXBfcmVxdWVzdDogZmFsc2UsDQogICAgICAgICAgICAgICAgc3VwcG9ydGVkX3Jlc29sdXRpb25zOiBbJzEnLCAnMycsICc1JywgJzE1JywgJzMwJywgJzYwJywgJzEyMCcsICcyNDAnLCAnMzYwJywgJzcyMCcsICcxRCcsICczRCcsICcxVycsICcxTSddLA0KICAgICAgICAgICAgICAgIHN1cHBvcnRzX21hcmtzOiB0cnVlLA0KICAgICAgICAgICAgICAgIHN1cHBvcnRzX3RpbWVzY2FsZV9tYXJrczogdHJ1ZSwNCiAgICAgICAgICAgICAgICBleGNoYW5nZXM6IFsnbXlFeGNoYW5nZSddDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICB0aGlzLl9iYXJzUHVsc2VVcGRhdGVyID0gbmV3IERhdGFmZWVkLkRhdGFQdWxzZVVwZGF0ZXIodGhpcywgdXBkYXRlRnJlcXVlbmN5IHx8IDEwICogMTAwMCk7DQogICAgICAgICAgICAvLyB0aGlzLl9xdW90ZXNQdWxzZVVwZGF0ZXIgPSBuZXcgRGF0YWZlZWQuUXVvdGVzUHVsc2VVcGRhdGVyKHRoaXMpOw0KDQogICAgICAgICAgICB0aGlzLl9lbmFibGVMb2dnaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9Ow0KDQogICAgICAgICAgICB0aGlzLl9pbml0aWFsaXphdGlvbkZpbmlzaGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnaW5pdGlhbGl6ZWQnKTsNCiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnY29uZmlndXJhdGlvbl9yZWFkeScpOw0KICAgICAgICB9Ow0KDQogICAgICAgIERhdGFmZWVkLkNvbnRhaW5lci5wcm90b3R5cGUuX2ZpcmVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50OmFueSwgYXJndW1lbnQ6YW55KSB7DQogICAgICAgICAgICBpZiAodGhpcy5fY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGV2ZW50KSkgew0KICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3NDaGFpbiA9IHRoaXMuX2NhbGxiYWNrc1tldmVudF07DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3NDaGFpbi5sZW5ndGg7ICsraSkgew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NDaGFpbltpXShhcmd1bWVudCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIERhdGFmZWVkLkNvbnRhaW5lci5wcm90b3R5cGUuX2xvZ01lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlOmFueSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZUxvZ2dpbmcpIHsNCiAgICAgICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICBEYXRhZmVlZC5Db250YWluZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnQ6YW55LCBjYWxsYmFjazphbnkpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5fY2FsbGJhY2tzLmhhc093blByb3BlcnR5KGV2ZW50KSkgew0KICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrc1tldmVudF0gPSBbXTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9Ow0KDQogICAgICAgIERhdGFmZWVkLkNvbnRhaW5lci5wcm90b3R5cGUub25SZWFkeSA9IGZ1bmN0aW9uKGNhbGxiYWNrOmFueSkgew0KICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZ3VyYXRpb24pIHsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGF0Ll9jb25maWd1cmF0aW9uKTsNCiAgICAgICAgICAgICAgICB9LCAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMub24oJ2NvbmZpZ3VyYXRpb25fcmVhZHknLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGhhdC5fY29uZmlndXJhdGlvbik7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgRGF0YWZlZWQuQ29udGFpbmVyLnByb3RvdHlwZS5yZXNvbHZlU3ltYm9sID0gZnVuY3Rpb24oc3ltYm9sTmFtZTphbnksIG9uU3ltYm9sUmVzb2x2ZWRDYWxsYmFjazphbnksIG9uUmVzb2x2ZUVycm9yQ2FsbGJhY2s6YW55KSB7DQogICAgICAgICAgICB0aGlzLl9sb2dNZXNzYWdlKCJHT1dOTyA6OiByZXNvbHZlIHN5bWJvbCAiKyBzeW1ib2xOYW1lKTsNCiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuX2xvZ01lc3NhZ2UoIkdPV05PIDo6IG9uUmVzdWx0UmVhZHkgaW5qZWN0ICIrdGhpcy5jdXJyZW5jeTEgKyAiOiIrIHRoaXMuY3VycmVuY3kyKTsNCiAgICAgICAgICAgICAgICBvblN5bWJvbFJlc29sdmVkQ2FsbGJhY2soew0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHRoaXMuY3VycmVuY3kxICsgIjoiKyB0aGlzLmN1cnJlbmN5MiwNCiAgICAgICAgICAgICAgICAgICAgInRpbWV6b25lIjogIkV1cm9wZS9XYXJzYXciLA0KICAgICAgICAgICAgICAgICAgICAicHJpY2VzY2FsZSI6IExhc3RQcmljZSA+IDEwMDAgPyAxMDAgOiAxMDAwMDAwMDAsDQogICAgICAgICAgICAgICAgICAgICJtaW5tb3YiOiAxLA0KICAgICAgICAgICAgICAgICAgICAibWlubW92MiI6IDAsDQogICAgICAgICAgICAgICAgICAgICJ0aWNrZXIiOiB0aGlzLmN1cnJlbmN5MSArICI6IisgdGhpcy5jdXJyZW5jeTIsDQogICAgICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAic2Vzc2lvbiI6ICIyNHg3IiwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYml0Y29pbiIsDQogICAgICAgICAgICAgICAgICAgICJleGNoYW5nZS10cmFkZWQiOiAibXlFeGNoYW5nZSIsDQogICAgICAgICAgICAgICAgICAgICJleGNoYW5nZS1saXN0ZWQiOiAibXlFeGNoYW5nZSIsDQogICAgICAgICAgICAgICAgICAgICJoYXNfaW50cmFkYXkiOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiaW50cmFkYXlfbXVsdGlwbGllcnMiOiBbJzYwJ10sIC8vSXQgaXMgYW4gYXJyYXkgY29udGFpbmluZyBpbnRyYWRheSByZXNvbHV0aW9ucyAoaW4gbWludXRlcykgdGhlIGRhdGFmZWVkIHdhbnRzIHRvIGJ1aWxkIGJ5IGl0c2VsZi4gRS5nLiwgaWYgdGhlIGRhdGFmZWVkIHJlcG9ydGVkIGhlIHN1cHBvcnRzIHJlc29sdXRpb25zIFsiMSIsICI1IiwgIjE1Il0sIGJ1dCBpbiBmYWN0IGl0IGhhcyBvbmx5IDEgbWludXRlIGJhcnMgZm9yIHN5bWJvbCBYLCBpdCBzaG91bGQgc2V0IGludHJhZGF5X211bHRpcGxpZXJzIG9mIFggPSBbMV0uIFRoaXMgd2lsbCBtYWtlIENoYXJ0aW5nIExpYnJhcnkgdG8gYnVpbGQgNSBhbmQgMTUgcmVzb2x1dGlvbnMgYnkgaXRzZWxmLg0KICAgICAgICAgICAgICAgICAgICAiaGFzX3dlZWtseV9hbmRfbW9udGhseSI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiaGFzX25vX3ZvbHVtZSI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAicmVndWxhcl9zZXNzaW9uIjogIjI0eDciDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9Ow0KDQogICAgICAgIERhdGFmZWVkLkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0QmFycyA9IGZ1bmN0aW9uKHN5bWJvbEluZm86YW55LCByZXNvbHV0aW9uOmFueSwgcmFuZ2VTdGFydERhdGU6YW55LCByYW5nZUVuZERhdGU6YW55LCBvbkRhdGFDYWxsYmFjazphbnksIG9uRXJyb3JDYWxsYmFjazphbnkpIHsNCiAgICAgICAgICAgIGlmIChyYW5nZVN0YXJ0RGF0ZSA+IDAgJiYgKHJhbmdlU3RhcnREYXRlICsgJycpLmxlbmd0aCA+IDEwKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvbkRhdGFDYWxsYmFjayhbXSwgeyBub0RhdGE6IHRydWUgfSk7DQogICAgICAgICAgICAvL29uRGF0YUNhbGxiYWNrKGJhcnMsIHsgbm9EYXRhOiB0cnVlICwgbmV4dFRpbWU6IGRhdGEubmIgfHwgZGF0YS5uZXh0VGltZSB9KTsNCiAgICAgICAgfTsNCg0KICAgICAgICBEYXRhZmVlZC5Db250YWluZXIucHJvdG90eXBlLnN1YnNjcmliZUJhcnMgPSBmdW5jdGlvbihzeW1ib2xJbmZvOmFueSwgcmVzb2x1dGlvbjphbnksIG9uUmVhbHRpbWVDYWxsYmFjazphbnksIGxpc3RlbmVyR1VJRDphbnksIG9uUmVzZXRDYWNoZU5lZWRlZENhbGxiYWNrOmFueSkgew0KICAgICAgICAgICAgc3RvcmUuZ2V0dGVycy5jaGFydERhdGEuZm9yRWFjaChmdW5jdGlvbiAoYmFyOmFueSkgeyAvLyBpbiBzdWJzY3JpYmVCYXJzDQogICAgICAgICAgICAgICAgb25SZWFsdGltZUNhbGxiYWNrKGJhcikNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5vbigncGFpcl9jaGFuZ2UnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBvblJlc2V0Q2FjaGVOZWVkZWRDYWxsYmFjaygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvL3RoaXMuX2JhcnNQdWxzZVVwZGF0ZXIuc3Vic2NyaWJlRGF0YUxpc3RlbmVyKHN5bWJvbEluZm8sIHJlc29sdXRpb24sIG9uUmVhbHRpbWVDYWxsYmFjaywgbGlzdGVuZXJHVUlELCBvblJlc2V0Q2FjaGVOZWVkZWRDYWxsYmFjayk7DQogICAgICAgIH07DQoNCiAgICAgICAgRGF0YWZlZWQuQ29udGFpbmVyLnByb3RvdHlwZS51bnN1YnNjcmliZUJhcnMgPSBmdW5jdGlvbihsaXN0ZW5lckdVSUQ6YW55KSB7DQogICAgICAgICAgICB0aGlzLl9iYXJzUHVsc2VVcGRhdGVyLnVuc3Vic2NyaWJlRGF0YUxpc3RlbmVyKGxpc3RlbmVyR1VJRCk7DQogICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIG5ldyBEYXRhZmVlZC5Db250YWluZXI7DQogICAgfQ0KfQ0K"},{"version":3,"sources":["TradingViewComponent.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"TradingViewComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"chart_container\"></div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from 'vue';\r\nimport axios from 'axios'\r\nimport { Watch, Component } from 'vue-property-decorator'\r\nimport store from '../store';\r\ndeclare const TradingView:any\r\ndeclare const $:any\r\nconst LastPrice = 1234.2365\r\n\r\n@Component\r\nexport default class TradingViewComponent extends Vue {\r\n    feed:any = null\r\n    chart:any = null\r\n    currency1:string = 'USD'\r\n    currency2:string = 'BTC'\r\n    bars:any = [\r\n        {\r\n            time:1508313600000,\r\n            close:42.1,\r\n            open:41.0,\r\n            high:43.0,\r\n            low:40.4,\r\n            volume:12000\r\n        }, {\r\n            time:1508317200000,\r\n            close:43.4,\r\n            open:42.9,\r\n            high:44.1,\r\n            low:42.1,\r\n            volume:18500\r\n        }, {\r\n            time:1508320800000,\r\n            close:44.3,\r\n            open:43.7,\r\n            high:44.8,\r\n            low:42.8,\r\n            volume:24000\r\n        }, {\r\n            time:1508324400000,\r\n            close:42.8,\r\n            open:44.5,\r\n            high:44.5,\r\n            low:42.3,\r\n            volume:45000\r\n        }\r\n    ]\r\n\r\n    constructor() {\r\n        super()\r\n        this.createData()\r\n        store.dispatch('updateChartData', this.bars)\r\n    }\r\n\r\n    createData() {\r\n        setInterval(() => {\r\n            let data = store.getters.chartData\r\n            data.push({\r\n                time: new Date().getTime(),\r\n                close: 40 + Math.random() * 5,\r\n                open: 40 + Math.random() * 5,\r\n                high: 40 + Math.random() * 5,\r\n                low: 40 + Math.random() * 5,\r\n                volume: 100000 * Math.random()\r\n            })\r\n            store.dispatch('updateChartData', data)\r\n            this.changePair()\r\n        }, 1000)\r\n    }\r\n\r\n    changePair() {\r\n        if(this.chart && this.feed){\r\n            this.feed._fireEvent('pair_change');\r\n            this.chart.activeChart().resetData();\r\n            this.chart.activeChart().setSymbol(this.currency1+\":\"+this.currency2, () => {\r\n            });\r\n        }\r\n    }\r\n\r\n    mounted() {\r\n        this.feed = this.createFeed();\r\n\r\n        TradingView.onready((configurationData:any) => {\r\n            this.chart = new TradingView.widget({\r\n                fullscreen: false,\r\n                autosize: true,\r\n                symbol:this.currency1 + \":\"+ this.currency2,\r\n                container_id: \"chart_container\",\r\n                datafeed: this.feed,\r\n                library_path: \"/custom_scripts/chart_main/\",\r\n                locale: \"en\",\r\n                timezone: 'Etc/UTC', //todo: ustawianie timezone'a po strefie usera\r\n                charts_storage_api_version: \"1.1\",\r\n                client_id: 'tradingview.com',\r\n                user_id: 'public_user_id',\r\n                debug: true,\r\n                // loading_screen:{ backgroundColor: \"#00ff00\",foregroundColor: \"#000000\", }, //todo:do it\r\n                interval: '60',\r\n                // timeframe:'',//todo: na koncu\r\n                toolbar_bg: \"#20334d\",\r\n                // saved_data: this.savedData,\r\n                allow_symbol_change: true,\r\n                time_frames: [\r\n                    {text: \"1y\", resolution: \"1W\"},\r\n                    {text: \"6m\", resolution: \"3D\"},\r\n                    {text: \"3m\", resolution: \"1D\"},\r\n                    {text: \"1m\", resolution: \"1D\"},\r\n                    {text: \"1w\", resolution: \"30\"},\r\n                    {text: \"3d\", resolution: \"30\"},\r\n                    {text: \"1d\", resolution: \"30\"},\r\n                    {text: \"6h\", resolution: \"15\"},\r\n                    {text: \"1h\", resolution: \"1\"}],\r\n                drawings_access: {\r\n                    type: 'black',\r\n                    // tools: [{name: \"Regression Trend\"}]//todo: moje\r\n                    tools: [{name: \"Trend Line\", grayed: true}, {name: \"Trend Angle\", grayed: true}] //todo: bb\r\n                },\r\n                disabled_features: [\r\n                    \"header_symbol_search\",\r\n                    \"header_interval_dialog_button\",\r\n                    \"show_interval_dialog_on_key_press\",\r\n                    \"symbol_search_hot_key\",\r\n                    \"study_dialog_search_control\",\r\n                    \"display_market_status\",\r\n                    \"header_compare\",\r\n                    \"edit_buttons_in_legend\",\r\n                    \"symbol_info\",\r\n                    \"border_around_the_chart\",\r\n                    \"main_series_scale_menu\",\r\n                    \"star_some_intervals_by_default\",\r\n                    \"datasource_copypaste\",\r\n                    \"right_bar_stays_on_scroll\",\r\n                    \"context_menus\",\r\n                    \"go_to_date\",\r\n                    \"compare_symbol\",\r\n                    \"border_around_the_chart\",\r\n                    \"timezone_menu\",\r\n                    \"header_resolutions\",//todo: przetestowac\r\n                    \"control_bar\",//todo: przetestowac\r\n                    \"edit_buttons_in_legend\",//todo: przetestowac\r\n                    \"remove_library_container_border\",\r\n                ],\r\n                enabled_features: [\r\n                    \"dont_show_boolean_study_arguments\",\r\n                    \"use_localstorage_for_settings\",\r\n                    \"remove_library_container_border\",\r\n                    \"save_chart_properties_to_local_storage\",\r\n                    \"side_toolbar_in_fullscreen_mode\",\r\n                    \"hide_last_na_study_output\",\r\n                    \"constraint_dialogs_movement\",//todo: nie do końca jestem pewien\r\n                ],\r\n                studies_overrides: {\r\n                    \"volume.volume.color.0\": \"#fe4761\",\r\n                    \"volume.volume.color.1\": \"#3fcfb4\",\r\n                    \"volume.volume.transparency\": 75,\r\n                },\r\n                overrides: {\r\n                    \"symbolWatermarkProperties.color\": \"rgba(0,0,0, 0)\",\r\n                    \"paneProperties.background\": \"#20334d\",\r\n                    \"paneProperties.vertGridProperties.color\": \"#344568\",\r\n                    \"paneProperties.horzGridProperties.color\": \"#344568\",\r\n                    \"paneProperties.crossHairProperties.color\": \"#58637a\",\r\n                    \"paneProperties.crossHairProperties.style\": 2,\r\n                    \"mainSeriesProperties.style\": 9,\r\n                    \"mainSeriesProperties.showCountdown\": false,\r\n                    \"scalesProperties.showSeriesLastValue\": true,\r\n                    \"mainSeriesProperties.visible\": false,\r\n                    \"mainSeriesProperties.showPriceLine\": false,\r\n                    \"mainSeriesProperties.priceLineWidth\": 1,\r\n                    \"mainSeriesProperties.lockScale\": false,\r\n                    \"mainSeriesProperties.minTick\": \"default\",\r\n                    \"mainSeriesProperties.extendedHours\": false,\r\n                    \"volumePaneSize\": \"tiny\",\r\n                    editorFontsList: [\"Lato\", \"Arial\", \"Verdana\", \"Courier New\", \"Times New Roman\"],\r\n                    \"paneProperties.topMargin\": 5,\r\n                    \"paneProperties.bottomMargin\": 5,\r\n                    \"paneProperties.leftAxisProperties.autoScale\": true,\r\n                    \"paneProperties.leftAxisProperties.autoScaleDisabled\": false,\r\n                    \"paneProperties.leftAxisProperties.percentage\": false,\r\n                    \"paneProperties.leftAxisProperties.percentageDisabled\": false,\r\n                    \"paneProperties.leftAxisProperties.log\": false,\r\n                    \"paneProperties.leftAxisProperties.logDisabled\": false,\r\n                    \"paneProperties.leftAxisProperties.alignLabels\": true,\r\n                    // \"paneProperties.legendProperties.showStudyArguments\": true,\r\n                    \"paneProperties.legendProperties.showStudyTitles\": true,\r\n                    \"paneProperties.legendProperties.showStudyValues\": true,\r\n                    \"paneProperties.legendProperties.showSeriesTitle\": true,\r\n                    \"paneProperties.legendProperties.showSeriesOHLC\": true,\r\n                    \"scalesProperties.showLeftScale\": false,\r\n                    \"scalesProperties.showRightScale\": true,\r\n                    \"scalesProperties.backgroundColor\": \"#20334d\",\r\n                    \"scalesProperties.lineColor\": \"#46587b\",\r\n                    \"scalesProperties.textColor\": \"#8f98ad\",\r\n                    \"scalesProperties.scaleSeriesOnly\": false,\r\n                    \"mainSeriesProperties.priceAxisProperties.autoScale\": true,\r\n                    \"mainSeriesProperties.priceAxisProperties.autoScaleDisabled\": false,\r\n                    \"mainSeriesProperties.priceAxisProperties.percentage\": false,\r\n                    \"mainSeriesProperties.priceAxisProperties.percentageDisabled\": false,\r\n                    \"mainSeriesProperties.priceAxisProperties.log\": false,\r\n                    \"mainSeriesProperties.priceAxisProperties.logDisabled\": false,\r\n                    \"mainSeriesProperties.candleStyle.upColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.candleStyle.downColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.candleStyle.drawWick\": true,\r\n                    \"mainSeriesProperties.candleStyle.drawBorder\": true,\r\n                    \"mainSeriesProperties.candleStyle.borderColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.candleStyle.borderUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.candleStyle.borderDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.candleStyle.wickColor\": \"#737375\",\r\n                    \"mainSeriesProperties.candleStyle.wickUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.candleStyle.wickDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.candleStyle.barColorsOnPrevClose\": false,\r\n                    \"mainSeriesProperties.hollowCandleStyle.upColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.downColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.drawWick\": true,\r\n                    \"mainSeriesProperties.hollowCandleStyle.drawBorder\": true,\r\n                    \"mainSeriesProperties.hollowCandleStyle.borderColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.borderUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.borderDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.wickColor\": \"#737375\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.wickUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.hollowCandleStyle.wickDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.haStyle.upColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.haStyle.downColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.haStyle.drawWick\": true,\r\n                    \"mainSeriesProperties.haStyle.drawBorder\": true,\r\n                    \"mainSeriesProperties.haStyle.borderColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.haStyle.borderUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.haStyle.borderDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.haStyle.wickColor\": \"#737375\",\r\n                    \"mainSeriesProperties.haStyle.wickUpColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.haStyle.wickDownColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.haStyle.barColorsOnPrevClose\": false,\r\n                    \"mainSeriesProperties.barStyle.upColor\": \"#3fcfb4\",\r\n                    \"mainSeriesProperties.barStyle.downColor\": \"#fe4761\",\r\n                    \"mainSeriesProperties.barStyle.barColorsOnPrevClose\": false,\r\n                    \"mainSeriesProperties.barStyle.dontDrawOpen\": false,\r\n                    \"mainSeriesProperties.lineStyle.color\": \"#0cbef3\",\r\n                    \"mainSeriesProperties.lineStyle.linestyle\": 0,\r\n                    \"mainSeriesProperties.lineStyle.linewidth\": 1,\r\n                    \"mainSeriesProperties.lineStyle.priceSource\": \"close\",\r\n                    \"mainSeriesProperties.areaStyle.color1\": \"#0cbef3\",\r\n                    \"mainSeriesProperties.areaStyle.color2\": \"#0098c4\",\r\n                    \"mainSeriesProperties.areaStyle.linecolor\": \"#0cbef3\",\r\n                    \"mainSeriesProperties.areaStyle.linestyle\": 0,\r\n                    \"mainSeriesProperties.areaStyle.linewidth\": 1,\r\n                    \"mainSeriesProperties.areaStyle.priceSource\": \"close\",\r\n                    \"mainSeriesProperties.areaStyle.transparency\": 80\r\n                },\r\n                custom_css_url: 'chart.css'\r\n            });\r\n        });\r\n    }\r\n\r\n    createFeed() {\r\n        let Datafeed:any = {};\r\n\r\n        Datafeed.DataPulseUpdater = function(datafeed:any, updateFrequency:any) {\r\n            this._datafeed = datafeed;\r\n            this._subscribers = {};\r\n\r\n            this._requestsPending = 0;\r\n            var that = this;\r\n\r\n            var update = function() {\r\n                if (that._requestsPending > 0) {\r\n                    return;\r\n                }\r\n\r\n                for (var listenerGUID in that._subscribers) {\r\n                    var subscriptionRecord = that._subscribers[listenerGUID];\r\n                    var resolution = subscriptionRecord.resolution;\r\n\r\n                    var datesRangeRight = parseInt(((new Date().valueOf()) / 1000).toFixed());\r\n\r\n                    //\tBEWARE: please note we really need 2 bars, not the only last one\r\n                    //\tsee the explanation below. `10` is the `large enough` value to work around holidays\r\n                    var datesRangeLeft = datesRangeRight - that.periodLengthSeconds(resolution, 10);\r\n\r\n                    that._requestsPending++;\r\n\r\n                    (function(_subscriptionRecord) { // eslint-disable-line\r\n                        that._datafeed.getBars(_subscriptionRecord.symbolInfo, resolution, datesRangeLeft, datesRangeRight, function(bars:any) {\r\n                                that._requestsPending--;\r\n\r\n                                //\tmeans the subscription was cancelled while waiting for data\r\n                                if (!that._subscribers.hasOwnProperty(listenerGUID)) {\r\n                                    return;\r\n                                }\r\n\r\n                                if (bars.length === 0) {\r\n                                    return;\r\n                                }\r\n\r\n                                var lastBar = bars[bars.length - 1];\r\n                                if (!isNaN(_subscriptionRecord.lastBarTime) && lastBar.time < _subscriptionRecord.lastBarTime) {\r\n                                    return;\r\n                                }\r\n\r\n                                var subscribers = _subscriptionRecord.listeners;\r\n\r\n                                //\tBEWARE: this one isn't working when first update comes and this update makes a new bar. In this case\r\n                                //\t_subscriptionRecord.lastBarTime = NaN\r\n                                var isNewBar = !isNaN(_subscriptionRecord.lastBarTime) && lastBar.time > _subscriptionRecord.lastBarTime;\r\n\r\n                                //\tPulse updating may miss some trades data (ie, if pulse period = 10 secods and new bar is started 5 seconds later after the last update, the\r\n                                //\told bar's last 5 seconds trades will be lost). Thus, at fist we should broadcast old bar updates when it's ready.\r\n                                if (isNewBar) {\r\n                                    if (bars.length < 2) {\r\n                                        throw new Error('Not enough bars in history for proper pulse update. Need at least 2.');\r\n                                    }\r\n\r\n                                    var previousBar = bars[bars.length - 2];\r\n                                    for (var i = 0; i < subscribers.length; ++i) {\r\n                                        subscribers[i](previousBar);\r\n                                    }\r\n                                }\r\n\r\n                                _subscriptionRecord.lastBarTime = lastBar.time;\r\n\r\n                                for (var j = 0; j < subscribers.length; ++j) {\r\n                                    subscribers[j](lastBar);\r\n                                }\r\n                            },\r\n\r\n                            //\ton error\r\n                            function() {\r\n                                that._requestsPending--;\r\n                            });\r\n                    })(subscriptionRecord);\r\n                }\r\n            };\r\n\r\n            if (typeof updateFrequency != 'undefined' && updateFrequency > 0) {\r\n                setInterval(update, updateFrequency);\r\n            }\r\n        };\r\n\r\n        Datafeed.DataPulseUpdater.prototype.periodLengthSeconds = function(resolution:any, requiredPeriodsCount:any) {\r\n            var daysCount = 0;\r\n\r\n            if (resolution === 'D') {\r\n                daysCount = requiredPeriodsCount;\r\n            } else if (resolution === 'M') {\r\n                daysCount = 31 * requiredPeriodsCount;\r\n            } else if (resolution === 'W') {\r\n                daysCount = 7 * requiredPeriodsCount;\r\n            } else {\r\n                daysCount = requiredPeriodsCount * resolution / (24 * 60);\r\n            }\r\n\r\n            return daysCount * 24 * 60 * 60;\r\n        };\r\n\r\n        Datafeed.DataPulseUpdater.prototype.subscribeDataListener = function(symbolInfo:any, resolution:any, newDataCallback:any, listenerGUID:any) {\r\n            this._datafeed._logMessage('Subscribing ' + listenerGUID);\r\n\r\n            if (!this._subscribers.hasOwnProperty(listenerGUID)) {\r\n                this._subscribers[listenerGUID] = {\r\n                    symbolInfo: symbolInfo,\r\n                    resolution: resolution,\r\n                    lastBarTime: NaN,\r\n                    listeners: []\r\n                };\r\n            }\r\n\r\n            this._subscribers[listenerGUID].listeners.push(newDataCallback);\r\n        };\r\n\r\n        Datafeed.DataPulseUpdater.prototype.unsubscribeDataListener = function(listenerGUID:any) {\r\n            this._datafeed._logMessage('Unsubscribing ' + listenerGUID);\r\n            delete this._subscribers[listenerGUID];\r\n        };\r\n\r\n        Datafeed.Container = function(updateFrequency:any){\r\n            this._configuration = {\r\n                supports_search: false,\r\n                supports_group_request: false,\r\n                supported_resolutions: ['1', '3', '5', '15', '30', '60', '120', '240', '360', '720', '1D', '3D', '1W', '1M'],\r\n                supports_marks: true,\r\n                supports_timescale_marks: true,\r\n                exchanges: ['myExchange']\r\n            };\r\n\r\n            this._barsPulseUpdater = new Datafeed.DataPulseUpdater(this, updateFrequency || 10 * 1000);\r\n            // this._quotesPulseUpdater = new Datafeed.QuotesPulseUpdater(this);\r\n\r\n            this._enableLogging = true;\r\n            this._callbacks = {};\r\n\r\n            this._initializationFinished = true;\r\n            this._fireEvent('initialized');\r\n            this._fireEvent('configuration_ready');\r\n        };\r\n\r\n        Datafeed.Container.prototype._fireEvent = function(event:any, argument:any) {\r\n            if (this._callbacks.hasOwnProperty(event)) {\r\n                var callbacksChain = this._callbacks[event];\r\n                for (var i = 0; i < callbacksChain.length; ++i) {\r\n                    callbacksChain[i](argument);\r\n                }\r\n\r\n                this._callbacks[event] = [];\r\n            }\r\n        };\r\n\r\n        Datafeed.Container.prototype._logMessage = function(message:any) {\r\n            if (this._enableLogging) {\r\n                var now = new Date();\r\n            }\r\n        };\r\n\r\n        Datafeed.Container.prototype.on = function(event:any, callback:any) {\r\n            if (!this._callbacks.hasOwnProperty(event)) {\r\n                this._callbacks[event] = [];\r\n            }\r\n\r\n            this._callbacks[event].push(callback);\r\n            return this;\r\n        };\r\n\r\n        Datafeed.Container.prototype.onReady = function(callback:any) {\r\n            let that = this;\r\n            if (this._configuration) {\r\n                setTimeout(function() {\r\n                    callback(that._configuration);\r\n                }, 0);\r\n            }\r\n            else {\r\n                this.on('configuration_ready', function() {\r\n                    callback(that._configuration);\r\n                });\r\n            }\r\n        };\r\n\r\n        Datafeed.Container.prototype.resolveSymbol = function(symbolName:any, onSymbolResolvedCallback:any, onResolveErrorCallback:any) {\r\n            this._logMessage(\"GOWNO :: resolve symbol \"+ symbolName);\r\n            Promise.resolve().then(() => {\r\n                this._logMessage(\"GOWNO :: onResultReady inject \"+this.currency1 + \":\"+ this.currency2);\r\n                onSymbolResolvedCallback({\r\n                    \"name\": this.currency1 + \":\"+ this.currency2,\r\n                    \"timezone\": \"Europe/Warsaw\",\r\n                    \"pricescale\": LastPrice > 1000 ? 100 : 100000000,\r\n                    \"minmov\": 1,\r\n                    \"minmov2\": 0,\r\n                    \"ticker\": this.currency1 + \":\"+ this.currency2,\r\n                    \"description\": \"\",\r\n                    \"session\": \"24x7\",\r\n                    \"type\": \"bitcoin\",\r\n                    \"exchange-traded\": \"myExchange\",\r\n                    \"exchange-listed\": \"myExchange\",\r\n                    \"has_intraday\": true,\r\n                    \"intraday_multipliers\": ['60'], //It is an array containing intraday resolutions (in minutes) the datafeed wants to build by itself. E.g., if the datafeed reported he supports resolutions [\"1\", \"5\", \"15\"], but in fact it has only 1 minute bars for symbol X, it should set intraday_multipliers of X = [1]. This will make Charting Library to build 5 and 15 resolutions by itself.\r\n                    \"has_weekly_and_monthly\": false,\r\n                    \"has_no_volume\": false,\r\n                    \"regular_session\": \"24x7\"\r\n                });\r\n            })\r\n        };\r\n\r\n        Datafeed.Container.prototype.getBars = function(symbolInfo:any, resolution:any, rangeStartDate:any, rangeEndDate:any, onDataCallback:any, onErrorCallback:any) {\r\n            if (rangeStartDate > 0 && (rangeStartDate + '').length > 10) {\r\n                throw new Error();\r\n            }\r\n            onDataCallback([], { noData: true });\r\n            //onDataCallback(bars, { noData: true , nextTime: data.nb || data.nextTime });\r\n        };\r\n\r\n        Datafeed.Container.prototype.subscribeBars = function(symbolInfo:any, resolution:any, onRealtimeCallback:any, listenerGUID:any, onResetCacheNeededCallback:any) {\r\n            store.getters.chartData.forEach(function (bar:any) { // in subscribeBars\r\n                onRealtimeCallback(bar)\r\n            });\r\n            this.on('pair_change', function() {\r\n                onResetCacheNeededCallback();\r\n            });\r\n            //this._barsPulseUpdater.subscribeDataListener(symbolInfo, resolution, onRealtimeCallback, listenerGUID, onResetCacheNeededCallback);\r\n        };\r\n\r\n        Datafeed.Container.prototype.unsubscribeBars = function(listenerGUID:any) {\r\n            this._barsPulseUpdater.unsubscribeDataListener(listenerGUID);\r\n        };\r\n\r\n        return new Datafeed.Container;\r\n    }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n#chart_container {\r\n    height: calc(100vh - 100px);\r\n}\r\n</style>\r\n"]}]}