{"version":3,"sources":["../../src/runner/loadReporter.js"],"names":["loadReporter","reporter","cwd","reporters","loadedReporter","require","e","path","resolve"],"mappings":";;;;;kBAIwBA,Y;;AAHxB;;;;AACA;;;;AAEe,SAASA,YAAT,CAAsBC,QAAtB,EAAqDC,GAArD,EAAkE;AAC/E;AACA,MAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClC,WAAOA,QAAP;AACD;;AAED;AACA,MAAI,OAAOE,iBAAUF,QAAV,CAAP,KAA+B,WAAnC,EAAgD;AAC9C,WAAOE,iBAAUF,QAAV,CAAP;AACD;;AAED,MAAIG,iBAAiB,IAArB;AACA,MAAI;AACF;AACAA,qBAAiBC,QAAQJ,QAAR,CAAjB,CAFE,CAEkC;AACrC,GAHD,CAGE,OAAOK,CAAP,EAAU;AACV;AACA;AACAF,qBAAiBC,QAAQE,eAAKC,OAAL,CAAaN,GAAb,EAAkBD,QAAlB,CAAR,CAAjB;AACD;AACD,SAAOG,cAAP;AACD","file":"loadReporter.js","sourcesContent":["// @flow\nimport path from 'path';\nimport { reporters } from 'mocha';\n\nexport default function loadReporter(reporter: string | () => void, cwd: string) {\n  // if reporter is already loaded, just return it\n  if (typeof reporter === 'function') {\n    return reporter;\n  }\n\n  // try to load built-in reporter like 'spec'\n  if (typeof reporters[reporter] !== 'undefined') {\n    return reporters[reporter];\n  }\n\n  let loadedReporter = null;\n  try {\n    // try to load reporter from node_modules\n    loadedReporter = require(reporter); // eslint-disable-line global-require, import/no-dynamic-require\n  } catch (e) {\n    // try to load reporter from cwd\n    // eslint-disable-next-line global-require, import/no-dynamic-require\n    loadedReporter = require(path.resolve(cwd, reporter));\n  }\n  return loadedReporter;\n}\n"]}