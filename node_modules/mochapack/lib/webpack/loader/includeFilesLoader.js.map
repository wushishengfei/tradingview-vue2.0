{"version":3,"sources":["../../../src/webpack/loader/includeFilesLoader.js"],"names":["module","exports","includeFilesLoader","sourceCode","cacheable","loaderOptions","loaderUtils","getOptions","include","length","includes","map","modPath","stringifyRequest","join","code","callback"],"mappings":";;AACA;;;;;;AAEA;AACAA,OAAOC,OAAP,GAAiB,SAASC,kBAAT,CAA4BC,UAA5B,EAAgD;AAAA;;AAC/D,MAAI,KAAKC,SAAT,EAAoB;AAClB,SAAKA,SAAL;AACD;AACD,MAAMC,gBAAgBC,sBAAYC,UAAZ,CAAuB,IAAvB,CAAtB;;AAEA,MAAIF,cAAcG,OAAd,IAAyBH,cAAcG,OAAd,CAAsBC,MAAnD,EAA2D;AACzD,QAAMC,WAAWL,cAAcG,OAAd,CACdG,GADc,CACV,UAACC,OAAD;AAAA,0BAAwBN,sBAAYO,gBAAZ,CAA6B,KAA7B,EAAmCD,OAAnC,CAAxB;AAAA,KADU,EAEdE,IAFc,CAET,IAFS,CAAjB;;AAIA,QAAMC,OAAO,CACXL,QADW,EAEXP,UAFW,EAGXW,IAHW,CAGN,IAHM,CAAb;;AAKA,SAAKE,QAAL,CAAc,IAAd,EAAoBD,IAApB,EAA0B,IAA1B;AACA;AACD;;AAED,OAAKC,QAAL,CAAc,IAAd,EAAoBb,UAApB,EAAgC,IAAhC;AACD,CArBD","file":"includeFilesLoader.js","sourcesContent":["// @flow\nimport loaderUtils from 'loader-utils';\n\n// Note: no export default here cause of Babel 6\nmodule.exports = function includeFilesLoader(sourceCode: string) {\n  if (this.cacheable) {\n    this.cacheable();\n  }\n  const loaderOptions = loaderUtils.getOptions(this);\n\n  if (loaderOptions.include && loaderOptions.include.length) {\n    const includes = loaderOptions.include\n      .map((modPath) => `require(${loaderUtils.stringifyRequest(this, modPath)});`)\n      .join('\\n');\n\n    const code = [\n      includes,\n      sourceCode,\n    ].join('\\n');\n\n    this.callback(null, code, null);\n    return;\n  }\n\n  this.callback(null, sourceCode, null);\n};\n"]}